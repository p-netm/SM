{% extends "base.html"%}
{% block content %}
{% macro render_field(form_element, input_class="", label_class="", value="") %}
	<div class="form-group">
		{% set class_label = "control-label col-sm-2 " + label_class %}
		{% set class_input = "form-control " + input_class %}
        {{ form_element.label(class=class_label)}}
    	<div class="col-sm-10">
        	{{ form_element(class=class_input, value=value) }}
      	</div>
    </div>
{% endmacro %}

{% macro render_submit(form_name, class="") %}
<div class="">
	<div class="" style="width: 50%; margin: 0 auto; text-align: center; ">
		{{ form_name.submit(class=class) }}
	</div>
</div>
{% endmacro %}

<h1> {{ user.name}}( {{ user.user_name }} )</h1>
<h2>General </h2>
<form class="form-horizontal" acton="{{url_for('auth.profile', _external=True)}}" method="POST">
	{{ general_form.csrf_token() }}
	{{ render_field(general_form.name, input_class="readonly", value=user.name) }}
	{{ render_field(general_form.user_name, input_class="readonly", value=user.user_name) }}
	{{ render_submit(general_form, class="btn btn-info btn-block disabled") }}
</form>
<hr>

<h2>change password</h2>
<form class="form-horizontal" acton="{{url_for('auth.profile', _external=True)}}" method="POST">
	{{ password_form.csrf_token() }}
	{{ render_field(password_form.old_password) }}
	{{ render_field(password_form.new_password) }}
	{{ render_field(password_form.repassword) }}
	{{ render_submit(password_form, class="btn btn-info btn-block") }}
</form>
<hr>

<h2>update email</h2>
<form class="form-horizontal" action="{{url_for('auth.profile', _external=True)}}" methods="POST">
	{{ email_form.csrf_token() }}
	{{ render_field(email_form.email) }}
	{{ render_field(email_form.password) }}
	{{ render_submit(email_form, class="btn btn-info btn-block") }}
</form>
<hr>

<h2>Secondary Account Settings</h2>
<form class="form-horizontal" action="{{url_for('auth.profile', _external=True)}}" method="post">
	{{ secondary_form.csrf_token() }}
	{{ render_field(secondary_form.plan) }}
	{{ render_submit(secondary_form, class="btn btn-info btn-block") }}
</form>
<hr>
{% endblock %}